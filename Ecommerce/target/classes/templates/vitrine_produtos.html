<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Loja</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
</head>
<style>
    <style>

    /* ======= RESET ======= */

* {

    margin: 0;

    padding: 0;

    box-sizing: border-box;

    font-family: Arial, Helvetica, sans-serif;

}



/* ======= BODY ======= */

body {

    background-color: #f4f4f9;

}



/* ======= TOPO ======= */

.topo {

    background: linear-gradient(90deg, #1a1a1a, #333);

    color: #fff;

    padding: 15px 25px;

    display: flex;

    justify-content: space-between;

    align-items: center;

    font-weight: bold;

    font-size: 1.1rem;

    letter-spacing: 0.5px;

    box-shadow: 0 2px 10px rgba(0,0,0,0.25);

}



.topo a {

    color: #4a90e2;

    text-decoration: none;

    font-size: 1rem;

}



.topo a:hover {

    text-decoration: underline;

}



/* ======= COTAÇÃO DO DÓLAR ======= */

.info-cotacao {

    text-align: center;

    background: #fff;

    width: fit-content;

    margin: 20px auto;

    padding: 10px 18px;

    font-size: 1rem;

    border-radius: 8px;

    color: #444;

    box-shadow: 0 3px 12px rgba(0,0,0,0.12);

}



/* ======= GRID DE PRODUTOS ======= */

.grid-produtos {

    display: flex;

    flex-wrap: wrap;

    justify-content: center;

    gap: 25px;

    padding: 25px;

}



/* ======= CARD DO PRODUTO ======= */

.card {

    background-color: #fff;

    width: 230px;

    border-radius: 12px;

    padding-bottom: 15px;

    box-shadow: 0 3px 15px rgba(0,0,0,0.12);

    transition: transform .2s, box-shadow .2s;

    overflow: hidden;

    text-align: center;

}



.card:hover {

    transform: translateY(-5px);

    box-shadow: 0 6px 22px rgba(0,0,0,0.15);

}



.card img {

    width: 100%;

    height: 160px;

    object-fit: cover;

}



/* TÍTULO DO PRODUTO */

.card h3 {

    font-size: 1.2rem;

    color: #222;

    margin: 12px 0 8px 0;

}



/* PREÇO EM DÓLAR */

.card p {

    margin: 5px 0;

    color: #555;

    font-size: 0.95rem;

}



/* PREÇO EM REAIS */

.preco-real {

    margin-top: 8px;

    font-size: 1.3rem;

    color: #1ea54c;

    font-weight: bold;

}



/* BOTÃO COMPRAR */

.card button {

    margin-top: 12px;

    padding: 10px 0;

    width: 85%;

    border: none;

    background-color: #4a90e2;

    color: white;

    font-size: 1rem;

    border-radius: 8px;

    cursor: pointer;

    transition: background .2s;

}



.card button:hover {

    background-color: #3578c5;

}
</style>
<body>

<header class="topo">
    <span>Olá, <strong th:text="${usuariologado != null ? usuariologado.nome : 'Visitante'}"></strong></span>

    <a href="/sair">Sair</a>
</header>

<div class="info-cotacao">
    Cotação: R$ <span th:text="${taxaDolar}"></span>
</div>

<div class="grid-produtos">
    <div th:each="p : ${produtos}" class="card">
        <img th:src="@{/imagem/{id}(id=${p.id})}" alt="Foto">

        <h3 th:text="${p.nome}"></h3>

        <p th:text="|US$ ${p.precoDolar}|"></p>

        <div class="preco-real">
            R$
            <span th:if="${p.precoDolar != null}"
                  th:text="${T(java.lang.String).format('%.2f', p.precoDolar * taxaDolar)}">
            </span>
            <span th:if="${p.precoDolar == null}">0,00</span>
        </div>

        <button onclick="alert('Produto adicionado ao carrinho!')">Comprar</button>
    </div>
</div>

</body>
</html>